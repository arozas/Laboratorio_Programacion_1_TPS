/*
 * Operations.c
 *
 *  Created on: 1 abr. 2022
 *      Author: Alejandro Alberto Martín Rozas
 *      Biblioteca de operaciones matématicas
 *      Versión 0.5 del 14 de abril de 2022
 */
#include "Operations.h"

int operations_Add(float numero1, float numero2, float* ppResultadoOperacion)
{
	float resultado;
	int rtn = 0;

	if(pResultadoOperacion!=NULL )
	{
		resultado=numero1+numero2;
		(*pResultadoOperacion)=resultado;
		rtn = 1;
	}

	return rtn;
}
int operations_Subtract(float numero1, float numero2, float* pResultadoOperacion)
{
	float resultado;
	int rtn = 0;

	if(pResultadoOperacion!=NULL)
	{
		resultado=numero1-numero2;
		(*pResultadoOperacion)=resultado;
		rtn = 1;
	}
	return rtn;

}
int operations_Mulptiply (float numero1, float numero2, float* pResultadoOperacion)
{
	float resultado;
	int rtn = 0;

	if(pResultadoOperacion!=NULL)
	{
		resultado=numero1*numero2;
		(*pResultadoOperacion)=resultado;
		rtn = 1;
	}

	return rtn;
}
int operations_Split(float dividendo, float divisor, float* pResultadoOperacion)
{
	float resultado;
	int rtn=0;

	if(divisor!=0 && pResultadoOperacion!=NULL)
	{
		resultado = dividendo/divisor;
		(*pResultadoOperacion) = resultado;
		rtn = 1;
	}

	return rtn;
}
int operations_RuleOfThree (float numero1, float numero2, float divisor, float* pResultadoOperacion)
{

	float resultado;
	float resultadoDos;
	int rtn = 0;

	if(divisor!=0 && pResultadoOperacion!=NULL)
	{
		if(operations_Mulptiply(numero1, numero2, &resultado)==1)
		{
			if(operations_Split(resultado, divisor, &resultadoDos)==1)
			{
				(*pResultadoOperacion)=resultadoDos;
				rtn = 1;

			}
		}
	}
	return rtn;
}
int operations_CalcPriceVarations(float precioIngresado, int variacionPrecio, char mensajeError[], float* precioConDescuento)
{
	int rtn;
	float variablePrecio;

	if(precioConDescuento!=NULL && mensajeError!=NULL)
	{
		if(operations_RuleOfThree(precioIngresado, variacionPrecio, 100, &variablePrecio)==1)
		{
			*precioConDescuento = precioIngresado + variablePrecio;
			rtn=1;
		}
		else
		{
			printf("\n%s", mensajeError);
			rtn=0;
		}
	}
	return rtn;
}
int operations_ExchangeRate(float monedaUno, float monedaDos, float* pResultadoOperacion)
{
	int rtn =0;
	float auxiliarTasa;
	if(monedaUno>0 && monedaDos >0)
	{
		if(operations_Split(monedaUno, monedaDos, &auxiliarTasa)==1)
		{
		*pResultadoOperacion=auxiliarTasa;
		rtn=1;
		}
	}
	return rtn;
}
